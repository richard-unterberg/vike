import{r as l,d as g,j as o}from"./chunk-CDJGqYdM.js";/* empty css              */const u="docpress:code-lang",f="ts",p="js";function w(){const[e,n]=l.useState(f),s=()=>{n(i())},r=t=>{t.key===u&&s()},i=()=>{try{return window.localStorage.getItem(u)??p}catch(t){return console.error(t),g(!1,"Error reading from localStorage"),p}},a=l.useCallback(t=>{try{window.localStorage.setItem(u,t),n(t),window.dispatchEvent(new CustomEvent("code-lang-storage"))}catch(c){console.error(c),g(!1,"Error setting localStorage")}},[]);return l.useEffect(()=>(s(),window.addEventListener("code-lang-storage",s),window.addEventListener("storage",r),()=>{window.removeEventListener("code-lang-storage",s),window.removeEventListener("storage",r)}),[]),[e,a]}function E({children:e}){const[n]=w();return o.jsx("div",{style:{display:n==="ts"?"block":"none"},children:e})}function h({children:e}){const[n,s]=w(),r=l.useRef(null);return l.useEffect(()=>{if(!r.current)return;const{top:a,el:t}=r.current,c=t.getBoundingClientRect().top-a;c!==0&&window.scrollBy(0,c),r.current=null},[n]),o.jsxs("div",{className:"code-snippets",children:[o.jsx("input",{type:"checkbox",name:"code-lang-toggle",className:"code-lang-toggle raised",checked:n==="ts",onChange:i,title:"Toggle language"}),e]});function i(a){const t=a.target;r.current={top:t.getBoundingClientRect().top,el:t},s(t.checked?"ts":"js")}}function m({children:e,...n}){return o.jsxs("pre",{...n,children:[!n["hide-menu"]&&o.jsx(v,{}),e]})}function v(){const[e,n]=l.useState(null),s=t=>{n(t),setTimeout(()=>{n(null)},900)},r=e===null?"Copy to clipboard":e?"Copied":"Failed",i=e===null?o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),o.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}):e?o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",stroke:"#28a745",strokeWidth:"3",children:o.jsx("polyline",{points:"20 6 9 17 4 12"})}):"âŒ";return o.jsx("button",{className:"copy-button raised","aria-label":r,"data-label-position":"top",type:"button",onClick:a,children:i});async function a(t){let c,d=t.currentTarget.parentElement.textContent||"";d=y(d);try{await navigator.clipboard.writeText(d),c=!0}catch(x){console.error(x),c=!1}s(c)}}function y(e){return e.split(`
`).map(n=>n.trimEnd()).join(`
`)}const L=()=>({CodeSnippets:h,pre:e=>o.jsx(m,{...e})});export{E as T,L as u};
